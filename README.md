# Todo App with Subtasks

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Todo —Å –ø–æ–¥–∑–∞–¥–∞—á–∞–º–∏ - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ FastAPI. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ email, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á —Å –ø–æ–¥–∑–∞–¥–∞—á–∞–º–∏ –∏ –∏—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é drag-and-drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–µ—Å—Å–∏–∏ —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞ (24 —á–∞—Å–∞)
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π SHA-256
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º

### üîê –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ email
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞ (2 —á–∞—Å–∞)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö email-—Å–æ–æ–±—â–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è

### üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∫ –∑–∞–¥–∞—á–∞–º
- –û—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –∑–∞–¥–∞—á

### üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º –ø–æ–¥–∑–∞–¥–∞—á
- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∑–∞–¥–∞—á–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–¥–∞—á–∏

### üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- Responsive –¥–∏–∑–∞–π–Ω —Å Tailwind CSS
- HTMX –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π drag-and-drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: FastAPI (Python)
- **Database**: SQLite —Å SQLModel ORM
- **Frontend**: HTML + Tailwind CSS + HTMX + SortableJS
- **Authentication**: Session-based —Å HTTP-only cookies
- **Email**: SMTP —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- pip

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
git clone <repository_url>
cd todo-app
pip install -r requirements.txt
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
export SMTP_SERVER="smtp.gmail.com"
export SMTP_PORT="587"
export SMTP_USERNAME="your-email@gmail.com"
export SMTP_PASSWORD="your-app-password"
export FROM_EMAIL="your-email@gmail.com"
```

3. **–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```bash
uvicorn main:app --reload
```

4. **–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
```
http://localhost:8000
```

## üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—á—Ç–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### Gmail

1. **–í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –≤ –≤–∞—à–µ–º Google –∞–∫–∫–∞—É–Ω—Ç–µ
2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Google Account Security
   - –í—ã–±–µ—Ä–∏—Ç–µ "2-Step Verification"
   - –í –Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã–±–µ—Ä–∏—Ç–µ "App passwords"
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
export SMTP_SERVER="smtp.gmail.com"
export SMTP_PORT="587"
export SMTP_USERNAME="your-email@gmail.com"
export SMTP_PASSWORD="your-16-digit-app-password"
export FROM_EMAIL="your-email@gmail.com"
```

### Outlook/Hotmail

```bash
export SMTP_SERVER="smtp-mail.outlook.com"
export SMTP_PORT="587"
export SMTP_USERNAME="your-email@outlook.com"
export SMTP_PASSWORD="your-password"
export FROM_EMAIL="your-email@outlook.com"
```

### Yahoo Mail

1. **–í–∫–ª—é—á–∏—Ç–µ "Less secure app access"** –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
export SMTP_SERVER="smtp.mail.yahoo.com"
export SMTP_PORT="587"
export SMTP_USERNAME="your-email@yahoo.com"
export SMTP_PASSWORD="your-app-password"
export FROM_EMAIL="your-email@yahoo.com"
```

### Mail.ru

```bash
export SMTP_SERVER="smtp.mail.ru"
export SMTP_PORT="587"
export SMTP_USERNAME="your-email@mail.ru"
export SMTP_PASSWORD="your-password"
export FROM_EMAIL="your-email@mail.ru"
```

### Yandex Mail

1. **–í–∫–ª—é—á–∏—Ç–µ "POP3 and IMAP access"** –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ—á—Ç—ã
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```bash
export SMTP_SERVER="smtp.yandex.ru"
export SMTP_PORT="587"
export SMTP_USERNAME="your-email@yandex.ru"
export SMTP_PASSWORD="your-password"
export FROM_EMAIL="your-email@yandex.ru"
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π SMTP —Å–µ—Ä–≤–µ—Ä

```bash
export SMTP_SERVER="your-smtp-server.com"
export SMTP_PORT="587"  # –∏–ª–∏ 465 –¥–ª—è SSL
export SMTP_USERNAME="your-username"
export SMTP_PASSWORD="your-password"
export FROM_EMAIL="noreply@yoursite.com"
```

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `user`
- `id`: UUID (Primary Key)
- `username`: String (Unique)
- `email`: String (Unique)
- `password_hash`: String (SHA-256)
- `created_at`: DateTime
- `is_active`: Boolean

### –¢–∞–±–ª–∏—Ü–∞ `usersession`
- `id`: UUID (Primary Key)
- `user_id`: String (Foreign Key ‚Üí user.id)
- `session_token`: String (Unique)
- `expires_at`: DateTime
- `created_at`: DateTime

### –¢–∞–±–ª–∏—Ü–∞ `passwordreset`
- `id`: UUID (Primary Key)
- `user_id`: String (Foreign Key ‚Üí user.id)
- `reset_token`: String (Unique)
- `expires_at`: DateTime
- `created_at`: DateTime
- `used`: Boolean

### –¢–∞–±–ª–∏—Ü–∞ `todo`
- `id`: UUID (Primary Key)
- `title`: String
- `description`: String (Optional)
- `completed`: Boolean
- `order_index`: Integer
- `created_at`: DateTime
- `user_id`: String (Foreign Key ‚Üí user.id)

### –¢–∞–±–ª–∏—Ü–∞ `subtask`
- `id`: UUID (Primary Key)
- `title`: String
- `completed`: Boolean
- `order_index`: Integer
- `todo_id`: String (Foreign Key ‚Üí todo.id)
- `created_at`: DateTime

## üõ£ API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### `GET /login`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç
- **–û—Ç–≤–µ—Ç**: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é (–µ—Å–ª–∏ —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)

#### `POST /login`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
  - `username`: String (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ email)
  - `password`: String
- **–û—Ç–≤–µ—Ç**: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é –∏–ª–∏ –æ—à–∏–±–∫–∞

#### `POST /register`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `username`: String
  - `email`: String
  - `password`: String
  - `password_confirm`: String
- **–û—Ç–≤–µ—Ç**: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é –∏–ª–∏ –æ—à–∏–±–∫–∞

#### `POST /logout`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ù–µ—Ç
- **–û—Ç–≤–µ—Ç**: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞

#### `POST /forgot-password`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—Ä–æ—Å —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `email`: String
- **–û—Ç–≤–µ—Ç**: –°–æ–æ–±—â–µ–Ω–∏–µ –æ –æ—Ç–ø—Ä–∞–≤–∫–µ email (–≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

#### `GET /reset-password?token={token}`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `token`: String (–≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ)
- **–û—Ç–≤–µ—Ç**: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –∏–ª–∏ –æ—à–∏–±–∫–∞

#### `POST /reset-password`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `token`: String
  - `password`: String
  - `password_confirm`: String
- **–û—Ç–≤–µ—Ç**: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ –∏–ª–∏ –æ—à–∏–±–∫–∞

### –ó–∞–¥–∞—á–∏ (Todo)

#### `GET /`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Å–ø–∏—Å–∫–æ–º –∑–∞–¥–∞—á
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–û—Ç–≤–µ—Ç**: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### `POST /todos`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `title`: String
  - `description`: String (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–û—Ç–≤–µ—Ç**: HTMX —á–∞—Å—Ç–∏—á–Ω—ã–π HTML –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### `POST /todos/{todo_id}/toggle`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `todo_id`: String (–≤ URL)
- **–û—Ç–≤–µ—Ç**: HTMX —á–∞—Å—Ç–∏—á–Ω—ã–π HTML –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### `POST /todos/{todo_id}/delete`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏ –≤—Å–µ—Ö –µ—ë –ø–æ–¥–∑–∞–¥–∞—á
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `todo_id`: String (–≤ URL)
- **–û—Ç–≤–µ—Ç**: –ü—É—Å—Ç–æ–π HTML –¥–ª—è HTMX –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### `POST /todos/reorder`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∑–∞–¥–∞—á
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `todo_ids`: Array[String] (–≤ JSON —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞)
- **–û—Ç–≤–µ—Ç**: `{"status": "success"}`

### –ü–æ–¥–∑–∞–¥–∞—á–∏ (Subtasks)

#### `POST /todos/{todo_id}/subtasks`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–¥–∑–∞–¥–∞—á–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `todo_id`: String (–≤ URL)
  - `title`: String
- **–û—Ç–≤–µ—Ç**: HTMX —á–∞—Å—Ç–∏—á–Ω—ã–π HTML —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –ø–æ–¥–∑–∞–¥–∞—á

#### `POST /subtasks/{subtask_id}/toggle`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–¥–∑–∞–¥–∞—á–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `subtask_id`: String (–≤ URL)
- **–û—Ç–≤–µ—Ç**: HTMX —á–∞—Å—Ç–∏—á–Ω—ã–π HTML —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –ø–æ–¥–∑–∞–¥–∞—á

#### `POST /subtasks/{subtask_id}/delete`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–∑–∞–¥–∞—á–∏
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `subtask_id`: String (–≤ URL)
- **–û—Ç–≤–µ—Ç**: HTMX —á–∞—Å—Ç–∏—á–Ω—ã–π HTML —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –ø–æ–¥–∑–∞–¥–∞—á

#### `POST /subtasks/reorder`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –ø–æ–¥–∑–∞–¥–∞—á
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢—Ä–µ–±—É–µ—Ç—Å—è
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `subtask_ids`: Array[String] (–≤ JSON —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞)
- **–û—Ç–≤–µ—Ç**: `{"status": "success"}`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
todo-app/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è FastAPI
‚îú‚îÄ‚îÄ requirements.txt     # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ templates/          # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ auth.html       # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ reset_password.html  # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ todo_item.html  # –ß–∞—Å—Ç–∏—á–Ω—ã–π —à–∞–±–ª–æ–Ω —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–∞–¥–∞—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ subtasks_partial.html  # –ß–∞—Å—Ç–∏—á–Ω—ã–π —à–∞–±–ª–æ–Ω –ø–æ–¥–∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ static/             # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚îî‚îÄ‚îÄ todos.db           # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π SHA-256
- HTTP-only cookies –¥–ª—è —Å–µ—Å—Å–∏–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É origin
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–∞—Ä–æ–ª—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ secure cookies (—Ç—Ä–µ–±—É–µ—Ç HTTPS)
# –í main.py –∏–∑–º–µ–Ω–∏—Ç–µ secure=False –Ω–∞ secure=True

#